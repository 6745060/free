import{u as N,a as F,t as b,q as G,_ as S}from"./index-945a5f1e.js";import{_ as A,q as M}from"./vue3-qrcode@0.0.2_vue@3.3.4-ff3ae8a7.js";import{h as T}from"./html2canvas@1.4.1-85f1a6b6.js";import{q as x,W as h,o as g,c as $,a as e,m as t,J as s,N as o,a3 as V,a4 as D,d as k,b as j,_ as P,K as R,I,M as q}from"./@vue_runtime-core@3.3.4-92a10329.js";import{f as z,k as J,q as K,r as B,m as Q}from"./naive-ui@2.34.4_vue@3.3.4-671c5e50.js";import{r as y,u as f}from"./@vue_reactivity@3.3.4-7af2db68.js";import{L as r}from"./@vue_shared@3.3.4-980ed777.js";import"./crypto-js@4.1.1-b83763f6.js";import"./@vue_runtime-dom@3.3.4-a4664548.js";import"./@iconify_vue@4.1.1_vue@3.3.4-cf8d46fc.js";import"./pinia@2.1.3_typescript@4.9.5_vue@3.3.4-a4493677.js";import"./vue-demi@0.14.5_vue@3.3.4-71ba0ef2.js";import"./vue-router@4.2.1_vue@3.3.4-4d20e068.js";import"./axios@1.4.0-4a70c6fc.js";import"./@vueuse_core@9.13.0_vue@3.3.4-03e59834.js";import"./@vueuse_shared@9.13.0_vue@3.3.4-acd595f8.js";import"./vue-i18n@9.2.2_vue@3.3.4-28e091b0.js";import"./@intlify_shared@9.2.2-6f62a0ce.js";import"./@intlify_core-base@9.2.2-e46b7bcb.js";import"./@intlify_message-compiler@9.2.2-e451351e.js";import"./@intlify_devtools-if@9.2.2-c61c979f.js";import"./element-plus@2.3.5_vue@3.3.4-2b65cc55.js";import"./lodash-es@4.17.21-811ce8f5.js";import"./@element-plus_icons-vue@2.1.0_vue@3.3.4-b3a07064.js";import"./@sxzz_popperjs-es@2.11.7-c75af06c.js";import"./@ctrl_tinycolor@3.6.0-f8748455.js";import"./dayjs@1.11.7-7e58136b.js";import"./@babel_runtime@7.22.3-042e6b4d.js";import"./async-validator@4.2.5-dee29e8b.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./escape-html@1.0.3-3eacd9ba.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.2.9-4d9f66a7.js";import"./@floating-ui_core@1.2.6-614032f8.js";import"./vooks@0.2.12_vue@3.3.4-d1f7853f.js";import"./evtd@0.2.4-b614532e.js";import"./katex@0.16.7-030cde00.js";import"./seemly@0.3.6-5600174a.js";import"./treemate@0.3.11-25c27bff.js";import"./vdirs@0.1.8_vue@3.3.4-4519c5fd.js";import"./vueuc@0.4.51_vue@3.3.4-ca4236d7.js";import"./@css-render_vue3-ssr@0.15.12_vue@3.3.4-dfbe021a.js";import"./@juggle_resize-observer@3.4.0-41516555.js";import"./css-render@0.15.12-57b1a53f.js";import"./@emotion_hash@0.8.0-8a8e73f6.js";import"./date-fns@2.30.0-975a2d8f.js";import"./@css-render_plugin-bem@0.15.12_css-render@0.15.12-9dde7ffe.js";import"./qrcode@1.5.3-b7eb702b.js";import"./encode-utf8@1.0.3-f813de00.js";import"./dijkstrajs@1.0.3-f906a09e.js";const W="/assets/icon-3f651ae0.jpg";x(()=>userStore.userInfo);const H={components:{Vue3Qrcode:M},props:{link:{type:String,default:"http://duck007.online/#/"}},data(){return{qrCode:this.link,coverImg:W}},methods:{saveImage(){T(document.querySelector("#myImage"),{scale:5}).then(i=>{i.toDataURL("image/png").replace("image/png","image/octet-stream");var p=document.getElementById("link");p.setAttribute("download","海报.png"),p.setAttribute("href",i.toDataURL("image/png").replace("image/png","image/octet-stream")),p.click()})}}},C=i=>(V("data-v-d20c51a0"),i=i(),D(),i),O={class:"button-container"},X={class:"border-dashed border-2 border-gray-300 rounded-lg p-4 flex justify-center items-center"},Y={style:{width:"320px",height:"220px",position:"relative"},id:"myImage",class:"content-wrapper"},Z=C(()=>e("div",{class:"text-wrapper"},[e("p",{class:"title"},"全新上线！小黄鸭AI助手——全球顶尖客户端震撼来袭！"),e("p",{class:"subtitle"},"立即扫码体验，开启全新的智能世界之旅！让我们一起探索未知的智能世界！🌏")],-1)),ee={class:"code-wrapper"},te=C(()=>e("div",{class:"title-subtitle"},[e("span",{class:"title"},"小黄鸭AI助手"),e("span",{class:"subtitle"},"智能AI助手伴你行"),e("span",{class:"second-subtitle"},"扫描右侧二维码，即刻体验 👉")],-1)),se={class:"code"},oe={class:"image-wrapper"},ae=["src"],ne={class:"button-wrapper"},ie=C(()=>e("a",{id:"link"},null,-1));function le(i,p,v,l,c,m){const d=h("vue3-qrcode"),u=h("ElButton");return g(),$("div",O,[e("div",X,[e("div",Y,[Z,e("div",ee,[te,e("div",se,[t(d,{value:c.qrCode,width:"80",height:"80"},null,8,["value"]),e("div",oe,[e("img",{src:c.coverImg},null,8,ae)])])])])]),e("div",ne,[t(u,{type:"success",onClick:m.saveImage,style:{color:"#FFFFFF","background-color":"#3EA467"}},{default:s(()=>[o(" 下载海报 ")]),_:1},8,["onClick"])]),ie])}const re=A(H,[["render",le],["__scopeId","data-v-d20c51a0"]]),ce=i=>(V("data-v-77adc9e6"),i=i(),D(),i),de={class:"p-4 space-y-5 min-h-[200px]"},pe={class:"space-y-6"},me={class:"flex items-center"},ue={class:"text-red-600"},_e={class:"text-red-600"},ve={class:"text-green-600"},fe=ce(()=>e("div",{class:"flex items-center"},[e("span",null,[o("🧑‍🤝‍🧑 邀请您的朋友注册您和他都可以获得 "),e("span",{class:"text-green-600"},"10"),o(" 次免费次数。（⚠ 若系统检测到邀请机器号来获取奖励，则会扣除奖励 ）")])],-1)),he={class:"flex items-center"},ge={class:"flex items-center flex-1"},be={class:"w-24"},xe={class:"cursor-default"},ye=k({__name:"General",setup(i){const p=N();F();const v=z(),l=y({});y(!1);const c=x(()=>p.userInfo),m=x(()=>{const a=p.userInfo;return a.inviteCode?`https://duckgpt.xyz/#/chat?code=${a.inviteCode}`:""});function d(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function u(){if(navigator.clipboard&&!d())navigator.clipboard.writeText(m.value).then(()=>{v.success(b("common.success"))},a=>{v.error(b("复制失败，请试试手动复制"))});else{const a=document.createElement("textarea");a.value=m.value,a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,99999);try{const w=document.execCommand("copy")?b("复制成功"):b("复制失败，请试试手动复制");v.success(w)}catch{v.error(b("复制失败，请试试手动复制"))}document.body.removeChild(a)}}return(a,_)=>(g(),$("div",de,[e("div",pe,[e("div",me,[e("span",null,[o("⭐️ 尊敬的 "),e("span",ue,r(c.value.email),1),o(" 您好，您当前的合伙人级别为 "),e("span",_e,r(l.value.affiliateName),1),o("，当前合伙人佣金比例为："),e("span",ve,r(l.value.affiliate)+"% ",1)])]),fe,e("div",he,[e("div",ge,[e("span",be,r(a.$t("邀请链接:")),1),e("span",xe,r(m.value),1),t(f(J),{type:"success",class:"flex-shrink-0 no-margin-left",onClick:u},{default:s(()=>[o(" 复制 ")]),_:1})])]),t(re,{link:m.value},null,8,["link"])])]))}});const we=A(ye,[["__scopeId","data-v-77adc9e6"]]),Ie={class:"text-red-600"},$e={class:"text-red-600"},ke={class:"flex justify-end mt-4"},Ce=k({__name:"InviteeUserView",setup(i){const p=N(),v=x(()=>p.userInfo),l=y({loading:!1,lists:[]}),c=y([]);j(async()=>{await m()});async function m(){l.value.loading=!0;const d=await G({uid:v.value.no});c.value=d.data,l.value.lists=c.value.list,l.value.loading=!1}return(d,u)=>{const a=h("el-card"),_=h("el-table-column"),w=h("el-tag"),L=h("el-table"),U=h("pagination"),E=P("loading");return g(),$("div",null,[t(a,{class:"!border-none",shadow:"never"},{default:s(()=>[e("span",null,[o("⭐️ 佣金收入总计： "),e("span",Ie,r(c.value.total)+" ¥",1),o(" ，其中未结算佣金： "),e("span",$e,r(c.value.unsettled)+" ¥",1)])]),_:1}),t(a,{shadow:"never"},{default:s(()=>[R((g(),I(L,{size:"large",data:l.value.lists,height:"600",style:{width:"100%"}},{default:s(()=>[t(_,{label:"序号",prop:"id","min-width":"60"},{default:s(({row:n})=>[o(r(n.id),1)]),_:1}),t(_,{label:"用户名",prop:"name","min-width":"100"},{default:s(({row:n})=>[o(r("**"+n.name.slice(2)),1)]),_:1}),t(_,{label:"套餐名",prop:"card","min-width":"100"},{default:s(({row:n})=>[o(r(n.card),1)]),_:1}),t(_,{label:"消费金额",prop:"price","min-width":"120"},{default:s(({row:n})=>[o(r(n.price),1)]),_:1}),t(_,{label:"佣金收入",prop:"commission","min-width":"120"},{default:s(({row:n})=>[o(r(n.commission),1)]),_:1}),t(_,{label:"消费时间",prop:"time","min-width":"120"},{default:s(({row:n})=>[o(r(n.time),1)]),_:1}),t(_,{label:"状态","min-width":"100"},{default:s(({row:n})=>[n.status==0?(g(),I(w,{key:0,type:"success"},{default:s(()=>[o("未提现")]),_:1})):q("",!0),n.status==1?(g(),I(w,{key:1,type:"danger"},{default:s(()=>[o("已提现")]),_:1})):q("",!0)]),_:1})]),_:1},8,["data"])),[[E,l.value.loading]]),e("div",ke,[t(U,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=n=>l.value=n),onChange:d.getLists},null,8,["modelValue","onChange"])])]),_:1})])}}}),Se=e("span",{class:"ml-2"},"合伙人信息",-1),qe={class:"min-h-[100px]"},Be=e("span",{class:"ml-2"},"佣金明细",-1),Ct=k({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(i,{emit:p}){const v=i,l=y("General"),c=x({get(){return v.visible},set(m){p("update:visible",m)}});return(m,d)=>(g(),I(f(Q),{show:c.value,"onUpdate:show":d[1]||(d[1]=u=>c.value=u),title:"合伙人中心","auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:s(()=>[e("div",null,[t(f(K),{value:l.value,"onUpdate:value":d[0]||(d[0]=u=>l.value=u),type:"line",animated:""},{default:s(()=>[t(f(B),{name:"General",tab:"General"},{tab:s(()=>[t(f(S),{class:"text-lg",icon:"ri:file-user-line"}),Se]),default:s(()=>[e("div",qe,[t(we)])]),_:1}),t(f(B),{name:"Config",tab:"Config"},{tab:s(()=>[t(f(S),{class:"text-lg",icon:"ri:list-settings-line"}),Be]),default:s(()=>[t(Ce)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{Ct as default};
