import{u as U,a as G,m as M,t as y,n as R,_ as V}from"./index-5c74c35f.js";import{_ as q,q as T}from"./vue3-qrcode@0.0.2_vue@3.2.47-434b0ed2.js";import{h as j}from"./html2canvas@1.4.1-18c4afc9.js";import{p as b,V as h,o as g,c as C,a as e,l as t,I as s,M as a,a1 as L,a2 as D,d as S,b as E,Z as P,J as z,H as $,L as A}from"./@vue_runtime-core@3.2.47-ee5b5de5.js";import{f as H,k as J,q as Q,r as N,m as Z}from"./naive-ui@2.34.3_vue@3.2.47-2f25bd7d.js";import{r as x,u,i as K}from"./@vue_reactivity@3.2.47-860f2346.js";import{L as d}from"./@vue_shared@3.2.47-c78728cc.js";import"./crypto-js@4.1.1-7d239ab2.js";import"./@vue_runtime-dom@3.2.47-55055d56.js";import"./@iconify_vue@4.1.1_vue@3.2.47-b9acde6e.js";import"./pinia@2.0.36_hmuptsblhheur2tugfgucj7gc4-583fa057.js";import"./vue-demi@0.14.1_vue@3.2.47-71ba0ef2.js";import"./vue-router@4.1.6_vue@3.2.47-0c8af408.js";import"./axios@1.4.0-4a70c6fc.js";import"./@vueuse_core@9.13.0_vue@3.2.47-e79087a4.js";import"./@vueuse_shared@9.13.0_vue@3.2.47-214f754a.js";import"./vue-i18n@9.2.2_vue@3.2.47-1b2f263e.js";import"./@intlify_shared@9.2.2-6f62a0ce.js";import"./@intlify_core-base@9.2.2-e46b7bcb.js";import"./@intlify_message-compiler@9.2.2-e451351e.js";import"./@intlify_devtools-if@9.2.2-c61c979f.js";import"./element-plus@2.3.4_vue@3.2.47-403cb9d4.js";import"./lodash-es@4.17.21-811ce8f5.js";import"./@element-plus_icons-vue@2.1.0_vue@3.2.47-d31af59d.js";import"./@sxzz_popperjs-es@2.11.7-c75af06c.js";import"./@ctrl_tinycolor@3.6.0-f8748455.js";import"./dayjs@1.11.7-7063ff69.js";import"./@babel_runtime@7.21.5-042e6b4d.js";import"./@vue_reactivity@3.3.0-beta.5-c1286f32.js";import"./@vue_shared@3.3.0-beta.5-6fb4f07b.js";import"./async-validator@4.2.5-dee29e8b.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./escape-html@1.0.3-78e42352.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.2.7-56616971.js";import"./@floating-ui_core@1.2.6-614032f8.js";import"./vooks@0.2.12_vue@3.2.47-b8ac7ab6.js";import"./evtd@0.2.4-b614532e.js";import"./katex@0.16.7-aa744d12.js";import"./seemly@0.3.6-5600174a.js";import"./vdirs@0.1.8_vue@3.2.47-4519c5fd.js";import"./treemate@0.3.11-25c27bff.js";import"./vueuc@0.4.51_vue@3.2.47-8f25ae16.js";import"./@css-render_vue3-ssr@0.15.12_vue@3.2.47-3117f20a.js";import"./@juggle_resize-observer@3.4.0-41516555.js";import"./css-render@0.15.12-57b1a53f.js";import"./@emotion_hash@0.8.0-8a8e73f6.js";import"./date-fns@2.30.0-975a2d8f.js";import"./@css-render_plugin-bem@0.15.12_css-render@0.15.12-9dde7ffe.js";import"./qrcode@1.5.3-a7ae4534.js";import"./encode-utf8@1.0.3-f813de00.js";import"./dijkstrajs@1.0.3-f906a09e.js";const O="/assets/icon-3f651ae0.jpg";b(()=>userStore.userInfo);const W={components:{Vue3Qrcode:T},props:{link:{type:String,default:"http://duck007.online/#/"}},data(){return{qrCode:this.link,coverImg:O}},methods:{saveImage(){j(document.querySelector("#myImage"),{scale:5}).then(i=>{i.toDataURL("image/png").replace("image/png","image/octet-stream");var m=document.getElementById("link");m.setAttribute("download","海报.png"),m.setAttribute("href",i.toDataURL("image/png").replace("image/png","image/octet-stream")),m.click()})}}},B=i=>(L("data-v-d20c51a0"),i=i(),D(),i),X={class:"button-container"},Y={class:"border-dashed border-2 border-gray-300 rounded-lg p-4 flex justify-center items-center"},ee={style:{width:"320px",height:"220px",position:"relative"},id:"myImage",class:"content-wrapper"},te=B(()=>e("div",{class:"text-wrapper"},[e("p",{class:"title"},"全新上线！小黄鸭AI助手——全球顶尖客户端震撼来袭！"),e("p",{class:"subtitle"},"立即扫码体验，开启全新的智能世界之旅！让我们一起探索未知的智能世界！🌏")],-1)),se={class:"code-wrapper"},oe=B(()=>e("div",{class:"title-subtitle"},[e("span",{class:"title"},"小黄鸭AI助手"),e("span",{class:"subtitle"},"智能AI助手伴你行"),e("span",{class:"second-subtitle"},"扫描右侧二维码，即刻体验 👉")],-1)),ae={class:"code"},ne={class:"image-wrapper"},ie=["src"],le={class:"button-wrapper"},re=B(()=>e("a",{id:"link"},null,-1));function ce(i,m,_,l,r,v){const p=h("vue3-qrcode"),c=h("ElButton");return g(),C("div",X,[e("div",Y,[e("div",ee,[te,e("div",se,[oe,e("div",ae,[t(p,{value:r.qrCode,width:"80",height:"80"},null,8,["value"]),e("div",ne,[e("img",{src:r.coverImg},null,8,ie)])])])])]),e("div",le,[t(c,{type:"success",onClick:v.saveImage,style:{color:"#FFFFFF","background-color":"#3EA467"}},{default:s(()=>[a(" 下载海报 ")]),_:1},8,["onClick"])]),re])}const de=q(W,[["render",ce],["__scopeId","data-v-d20c51a0"]]),pe=i=>(L("data-v-ee15eeaa"),i=i(),D(),i),me={class:"p-4 space-y-5 min-h-[200px]"},ue={class:"space-y-6"},_e={class:"flex items-center"},fe={class:"text-red-600"},ve={class:"text-red-600"},he={class:"text-green-600"},ge=pe(()=>e("div",{class:"flex items-center"},[e("span",null,[a("🧑‍🤝‍🧑 邀请您的朋友注册您和他都可以获得 "),e("span",{class:"text-green-600"},"10"),a(" 次免费次数。（⚠ 若系统检测到邀请机器号来获取奖励，则会扣除奖励 ）")])],-1)),ye={class:"flex items-center"},be={class:"flex items-center flex-1"},xe={class:"w-24"},we={class:"cursor-default"},Ie=S({__name:"General",setup(i){const m=U();G();const _=H(),l=x({}),r=x(!1);async function v(){try{r.value=!0;const{data:o}=await M();l.value=o}finally{r.value=!1}}E(()=>{v()});const p=b(()=>m.userInfo),c=b(()=>{const o=m.userInfo;return o.inviteCode?`https://duckgpt.xyz/#/chat?code=${o.inviteCode}`:""});function w(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function f(){if(navigator.clipboard&&!w())navigator.clipboard.writeText(c.value).then(()=>{_.success(y("common.success"))},o=>{_.error(y("复制失败，请试试手动复制"))});else{const o=document.createElement("textarea");o.value=c.value,o.style.position="fixed",document.body.appendChild(o),o.focus(),o.select(),o.setSelectionRange(0,99999);try{const k=document.execCommand("copy")?y("复制成功"):y("复制失败，请试试手动复制");_.success(k)}catch{_.error(y("复制失败，请试试手动复制"))}document.body.removeChild(o)}}return(o,I)=>(g(),C("div",me,[e("div",ue,[e("div",_e,[e("span",null,[a("⭐️ 尊敬的 "),e("span",fe,d(u(p).email),1),a(" 您好，您当前的合伙人级别为 "),e("span",ve,d(l.value.affiliateName),1),a("，当前合伙人佣金比例为："),e("span",he,d(l.value.affiliate)+"% ",1)])]),ge,e("div",ye,[e("div",be,[e("span",xe,d(o.$t("邀请链接:")),1),e("span",we,d(u(c)),1),t(u(J),{type:"success",class:"flex-shrink-0 no-margin-left",onClick:f},{default:s(()=>[a(" 复制 ")]),_:1})])]),t(de,{link:u(c)},null,8,["link"])])]))}});const $e=q(Ie,[["__scopeId","data-v-ee15eeaa"]]),ke={class:"text-red-600"},Ce={class:"text-red-600"},Se={class:"flex justify-end mt-4"},Be=S({__name:"InviteeUserView",setup(i){const m=U(),_=b(()=>m.userInfo),l=x({loading:!1,lists:[]}),r=x([]);E(async()=>{await v()});async function v(){l.value.loading=!0;const p=await R({uid:_.value.no});r.value=p.data,l.value.lists=r.value.list,l.value.loading=!1}return(p,c)=>{const w=h("el-card"),f=h("el-table-column"),o=h("el-tag"),I=h("el-table"),k=h("pagination"),F=P("loading");return g(),C("div",null,[t(w,{class:"!border-none",shadow:"never"},{default:s(()=>[e("span",null,[a("⭐️ 佣金收入总计： "),e("span",ke,d(r.value.total)+" ¥",1),a(" ，其中未结算佣金： "),e("span",Ce,d(r.value.unsettled)+" ¥",1)])]),_:1}),t(w,{shadow:"never"},{default:s(()=>[z((g(),$(I,{size:"large",data:l.value.lists,height:"600",style:{width:"100%"}},{default:s(()=>[t(f,{label:"序号",prop:"id","min-width":"60"},{default:s(({row:n})=>[a(d(n.id),1)]),_:1}),t(f,{label:"用户名",prop:"name","min-width":"100"},{default:s(({row:n})=>[a(d("**"+n.name.slice(2)),1)]),_:1}),t(f,{label:"套餐名",prop:"card","min-width":"100"},{default:s(({row:n})=>[a(d(n.card),1)]),_:1}),t(f,{label:"消费金额",prop:"price","min-width":"120"},{default:s(({row:n})=>[a(d(n.price),1)]),_:1}),t(f,{label:"佣金收入",prop:"commission","min-width":"120"},{default:s(({row:n})=>[a(d(n.commission),1)]),_:1}),t(f,{label:"消费时间",prop:"time","min-width":"120"},{default:s(({row:n})=>[a(d(n.time),1)]),_:1}),t(f,{label:"状态","min-width":"100"},{default:s(({row:n})=>[n.status==0?(g(),$(o,{key:0,type:"success"},{default:s(()=>[a("未提现")]),_:1})):A("",!0),n.status==1?(g(),$(o,{key:1,type:"danger"},{default:s(()=>[a("已提现")]),_:1})):A("",!0)]),_:1})]),_:1},8,["data"])),[[F,l.value.loading]]),e("div",Se,[t(k,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=n=>l.value=n),onChange:p.getLists},null,8,["modelValue","onChange"])])]),_:1})])}}}),Ve=e("span",{class:"ml-2"},"合伙人信息",-1),Ae={class:"min-h-[100px]"},Ne=e("span",{class:"ml-2"},"佣金明细",-1),At=S({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(i,{emit:m}){const _=i,l=x("General"),r=b({get(){return _.visible},set(v){m("update:visible",v)}});return(v,p)=>(g(),$(u(Z),{show:u(r),"onUpdate:show":p[1]||(p[1]=c=>K(r)?r.value=c:null),title:"合伙人中心","auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:s(()=>[e("div",null,[t(u(Q),{value:l.value,"onUpdate:value":p[0]||(p[0]=c=>l.value=c),type:"line",animated:""},{default:s(()=>[t(u(N),{name:"General",tab:"General"},{tab:s(()=>[t(u(V),{class:"text-lg",icon:"ri:file-user-line"}),Ve]),default:s(()=>[e("div",Ae,[t($e)])]),_:1}),t(u(N),{name:"Config",tab:"Config"},{tab:s(()=>[t(u(V),{class:"text-lg",icon:"ri:list-settings-line"}),Ne]),default:s(()=>[t(Be)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{At as default};
