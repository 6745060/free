import{e as q,q as h,f as K,s as g,aW as N,be as S,bf as I,b9 as O,ba as L,o as F,g as v,h as l,w as t,u as a,j as _,N as T,O as Z,Z as p,aX as j,aY as G,aZ as W}from"./.pnpm.aa9acb74.js";import{r as m,f as X}from"./index.83cc6034.js";import{P as Y}from"./index.6fbe50e6.js";function ue(r){return m.get({url:"/key/list",params:r})}function z(r){return m.get({url:"/key/detail",params:r})}function H(r){return m.post({url:"/key/update",params:r})}function te(r){return m.get({url:"/key/delete",params:r})}const J={class:"edit-popup"},M={class:"flex-1"},Q=_("div",{class:"form-tips"},"\u4E0D\u586B\u5199\u9ED8\u8BA4\u4F7F\u7528 https://api.openai.com",-1),oe=q({__name:"edit",emits:["success"],setup(r,{expose:B,emit:k}){const b=h("add"),V=K(()=>b.value=="edit"?"\u7F16\u8F91 key":"\u6DFB\u52A0 key"),c=g(),f=g(),u=N({id:0,key:"",model:"",proxyUrl:"",isPlus:0,isDisable:0}),E=[{value:"gpt-4",label:"gpt-4"},{value:"gpt-3.5-turbo",label:"gpt-3.5-turbo"}],x={key:[{required:!0,message:"\u8BF7\u8F93\u5165key",trigger:"blur"}],model:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B",trigger:"blur"}],isPlus:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B",trigger:"blur"}],isDisable:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001",trigger:"blur"}]},D=async s=>{const e=await z({id:s.id});for(const n in u)e[n]!=null&&e[n]!=null&&(u[n]=e[n])},w=async()=>{var s,e;await((s=c.value)==null?void 0:s.validate()),await H(u),(e=f.value)==null||e.close(),k("success"),X.msgSuccess("\u64CD\u4F5C\u6210\u529F")},C=(s="add")=>{var e;b.value=s,(e=f.value)==null||e.open()},U=()=>{var s;(s=c.value)==null||s.resetFields()};return B({open:C,setFormData:D}),(s,e)=>{const n=j,d=G,A=S,P=I,i=O,y=L,R=W;return F(),v("div",J,[l(Y,{ref_key:"popupRef",ref:f,title:a(V),async:!0,width:"550px",onClose:U,onConfirm:w},{default:t(()=>[l(R,{ref_key:"formRef",ref:c,model:a(u),rules:x,"label-width":"100px"},{default:t(()=>[l(d,{label:"Key",prop:"key"},{default:t(()=>[_("div",M,[_("div",null,[l(n,{modelValue:a(u).key,"onUpdate:modelValue":e[0]||(e[0]=o=>a(u).key=o),rows:4,clearable:"",placeholder:"",type:"textarea"},null,8,["modelValue"])])])]),_:1}),l(d,{label:"AI\u6A21\u578B",prop:"model"},{default:t(()=>[l(P,{modelValue:a(u).model,"onUpdate:modelValue":e[1]||(e[1]=o=>a(u).model=o),class:"w-[100%]"},{default:t(()=>[(F(),v(T,null,Z(E,o=>l(A,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u4EE3\u7406\u5730\u5740",prop:"proxyUrl"},{default:t(()=>[l(n,{modelValue:a(u).proxyUrl,"onUpdate:modelValue":e[2]||(e[2]=o=>a(u).proxyUrl=o),clearable:"",placeholder:"\u5305\u542B\u534F\u8BAE\uFF0C\u5982https://"},null,8,["modelValue"]),Q]),_:1}),l(d,{label:"\u7C7B\u578B",prop:"isPlus"},{default:t(()=>[l(y,{modelValue:a(u).isPlus,"onUpdate:modelValue":e[3]||(e[3]=o=>a(u).isPlus=o)},{default:t(()=>[l(i,{label:0},{default:t(()=>[p("\u666E\u901A")]),_:1}),l(i,{label:1},{default:t(()=>[p("PLUS")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u72B6\u6001",prop:"isDisable"},{default:t(()=>[l(y,{modelValue:a(u).isDisable,"onUpdate:modelValue":e[4]||(e[4]=o=>a(u).isDisable=o)},{default:t(()=>[l(i,{label:0},{default:t(()=>[p("\u542F\u52A8")]),_:1}),l(i,{label:1},{default:t(()=>[p("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{oe as _,ue as g,te as r};
